(this.webpackJsonporbital=this.webpackJsonporbital||[]).push([[0],{150:function(e,a,t){"use strict";t.r(a);var r=t(10),n=t.n(r),c=t(12),s=t(0),i=t(80),l=t(15),o=t(25),j=t.n(o),d=t(37),u=t(41),b=t.n(u),p="api/listings",O=function(){return console.log("HELLO"),b.a.get(p).then((function(e){return e.data}))},x=function(e){"bearer ".concat(e)},h={login:function(){var e=Object(d.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/login",a);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},m=t(212),v=t(197),g=t(194),f=t(205),w=t(196),y=t(209),S=t(192),N=t(198),C=t(206),I=t(74),k=t.n(I),T=t(56),P=t(190),M=t(193),W=t(76),A=t(211),U=t(207),L=t(2);function B(e){return Object(L.jsx)(U.a,Object(W.a)({elevation:6,variant:"filled"},e))}var z=Object(P.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),D=function(e){var a=e.alert,t=e.setAlert,r=e.errorMessage,n=z(),c=function(e,a){"clickaway"!==a&&t(!1)};return Object(L.jsx)("div",{className:n.root,children:Object(L.jsx)(A.a,{open:a,autoHideDuration:5e3,onClose:c,children:Object(L.jsx)(B,{onClose:c,severity:"error",children:r})})})};function q(){return Object(L.jsxs)(T.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(L.jsx)(S.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var F=Object(P.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),E=function(e){var a=e.setUser,t=F(),r=Object(s.useState)(""),n=Object(c.a)(r,2),i=n[0],l=n[1],o=Object(s.useState)(""),u=Object(c.a)(o,2),b=u[0],p=u[1],O=Object(s.useState)(!1),I=Object(c.a)(O,2),P=I[0],W=I[1];Object(s.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);a(t),x(t.token)}}),[]);var A=function(){var e=Object(d.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.login({username:i,password:b});case 4:r=e.sent,x(r.token),window.localStorage.setItem("loggedUser",JSON.stringify(r)),a(r),l(""),p(""),"Module Coordinator"===r.accountType?window.history.pushState("ModuleCoordinatorLandingPage","ModuleCoordinatorLandingPage","/mymodules"):window.history.pushState("StudentLandingPage","StudentLandingPage","/listings"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),W(!0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a){return e.apply(this,arguments)}}();return Object(L.jsxs)(M.a,{component:"main",maxWidth:"xs",children:[Object(L.jsx)(D,{alert:P,setAlert:W,errorMessage:"Invalid Username or Password"}),Object(L.jsx)(g.a,{}),Object(L.jsxs)("div",{className:t.paper,children:[Object(L.jsx)(m.a,{className:t.avatar,children:Object(L.jsx)(k.a,{})}),Object(L.jsx)(T.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(L.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:A,children:[Object(L.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:i,onChange:function(e){l(e.target.value)}}),Object(L.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:b,onChange:function(e){p(e.target.value)}}),Object(L.jsx)(w.a,{control:Object(L.jsx)(y.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(L.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(L.jsx)(N.a,{container:!0,children:Object(L.jsx)(N.a,{item:!0,children:Object(L.jsx)(S.a,{href:"/SignUp",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(L.jsx)(C.a,{mt:8,children:Object(L.jsx)(q,{})})]})},G={create:function(){var e=Object(d.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.a.post("/api/users",a),e.abrupt("return",t.then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},J=t(199);function Y(e){return Object(L.jsx)(U.a,Object(W.a)({elevation:6,variant:"filled"},e))}var H=Object(P.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),V=function(e){var a=e.alert,t=e.setAlert,r=e.successMessage,n=H(),c=function(e,a){"clickaway"!==a&&t(!1)};return Object(L.jsx)("div",{className:n.root,children:Object(L.jsx)(A.a,{open:a,autoHideDuration:5e3,onClose:c,children:Object(L.jsx)(Y,{onClose:c,severity:"success",children:r})})})};function R(){return Object(L.jsxs)(T.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(L.jsx)(S.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var K=Object(P.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Q=function(){var e=K(),a=Object(s.useState)(""),t=Object(c.a)(a,2),r=t[0],n=t[1],i=Object(s.useState)(""),l=Object(c.a)(i,2),o=l[0],u=l[1],b=Object(s.useState)(""),p=Object(c.a)(b,2),O=p[0],x=p[1],h=Object(s.useState)(""),w=Object(c.a)(h,2),y=w[0],I=w[1],P=Object(s.useState)(""),W=Object(c.a)(P,2),A=W[0],U=W[1],B=Object(s.useState)(""),z=Object(c.a)(B,2),q=z[0],F=z[1],E=Object(s.useState)(null),Y=Object(c.a)(E,2),H=Y[0],Q=Y[1],X=Object(s.useState)(null),Z=Object(c.a)(X,2),$=Z[0],_=Z[1],ee=Object(s.useState)(null),ae=Object(c.a)(ee,2),te=ae[0],re=ae[1],ne=Object(s.useState)(null),ce=Object(c.a)(ne,2),se=ce[0],ie=ce[1],le=Object(s.useState)(null),oe=Object(c.a)(le,2),je=oe[0],de=oe[1],ue=Object(s.useState)(null),be=Object(c.a)(ue,2),pe=be[0],Oe=be[1],xe=Object(s.useState)(null),he=Object(c.a)(xe,2),me=he[0],ve=he[1],ge=Object(s.useState)(!1),fe=Object(c.a)(ge,2),we=fe[0],ye=fe[1],Se=Object(s.useState)(!1),Ne=Object(c.a)(Se,2),Ce=Ne[0],Ie=Ne[1],ke=Object(s.useState)(!1),Te=Object(c.a)(ke,2),Pe=Te[0],Me=Te[1],We=function(){var e=Object(d.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log(we),""===O.trim()?(_("Invalid First Name"),Me(!0)):_(""),""===y.trim()?(re("Invalid Last Name"),Me(!0)):re(""),""===r.trim()?(ie("Invalid Username"),Me(!0)):ie(""),""===o.trim()?(de("Invalid Password"),Me(!0)):de(""),""===A.trim()?(Oe("Invalid Email"),Me(!0)):Oe(""),""===q?(ve("Invalid Account Type"),Me(!0)):ve(""),""===O.trim()||""===y.trim()||""===r.trim()||""===o.trim()||""===A.trim()||""===q){e.next=22;break}return e.prev=9,t={name:O+" "+y,username:r,password:o,email:A,accountType:q},e.next=13,G.create(t);case 13:e.sent,ye(!0),Ie(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(9),Q("Username already taken"),Me(!0);case 22:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(a){return e.apply(this,arguments)}}();return Object(L.jsxs)(M.a,{component:"main",maxWidth:"xs",children:[Object(L.jsx)(D,{alert:Pe,setAlert:Me,errorMessage:H||"Invalid Field(s)"}),Object(L.jsx)(V,{alert:Ce,setAlert:Ie,successMessage:"User Successfully Created"}),Object(L.jsx)(g.a,{}),Object(L.jsxs)("div",{className:e.paper,children:[Object(L.jsx)(m.a,{className:e.avatar,children:Object(L.jsx)(k.a,{})}),Object(L.jsx)(T.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(L.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:We,children:[Object(L.jsxs)(N.a,{container:!0,spacing:2,children:[Object(L.jsx)(N.a,{item:!0,xs:12,sm:6,children:Object(L.jsx)(f.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,error:"Invalid First Name"===$,helperText:$,value:O,onChange:function(e){x(e.target.value)},disabled:we})}),Object(L.jsx)(N.a,{item:!0,xs:12,sm:6,children:Object(L.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lastName",error:"Invalid Last Name"===te,helperText:te,value:y,onChange:function(e){I(e.target.value)},disabled:we})}),Object(L.jsx)(N.a,{item:!0,xs:12,children:Object(L.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",error:"Invalid Username"===se,helperText:se,value:r,onChange:function(e){n(e.target.value)},disabled:we})}),Object(L.jsx)(N.a,{item:!0,xs:12,children:Object(L.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:"Invalid Password"===je,helperText:je,value:o,onChange:function(e){u(e.target.value)},disabled:we})}),Object(L.jsx)(N.a,{item:!0,xs:12,children:Object(L.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"email",label:"Email",id:"email",autoComplete:"email",error:"Invalid Email"===pe,helperText:pe,value:A,onChange:function(e){U(e.target.value)},disabled:we})}),Object(L.jsx)(N.a,{item:!0,xs:12,children:Object(L.jsxs)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"accountType",label:"Account Type",select:!0,value:q,id:"accountType",error:"Invalid Account Type"===me,helperText:me,onChange:function(e){F(e.target.value)},disabled:we,children:[Object(L.jsx)(J.a,{value:"Student",children:"Student"}),Object(L.jsx)(J.a,{value:"Module Coordinator",children:"Module Coordinator"})]})})]}),Object(L.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,href:we?"/":"",children:we?"Account created | Back to Sign In":"Sign up"}),Object(L.jsx)(N.a,{container:!0,children:Object(L.jsx)(N.a,{item:!0,children:Object(L.jsx)(S.a,{href:"/",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(L.jsx)(C.a,{mt:5,children:Object(L.jsx)(R,{})})]})},X=t(210),Z=t(202),$=t(203),_=t(195),ee=t(204),ae=t(153),te=t(200),re=t(201),ne=t(96),ce=t.n(ne),se=t(95),ie=t.n(se),le=t(99),oe=t.n(le),je=t(97),de=t.n(je),ue=t(98),be=t.n(ue),pe=Object(L.jsxs)("div",{children:[Object(L.jsxs)(ae.a,{button:!0,onClick:function(){window.history.pushState("ApplicationsLandingPage","ApplicationsLandingPage","/applications"),window.location.reload(!1)},children:[Object(L.jsx)(te.a,{children:Object(L.jsx)(ie.a,{})}),Object(L.jsx)(re.a,{primary:"Applications"})]}),Object(L.jsxs)(ae.a,{button:!0,children:[Object(L.jsx)(te.a,{children:Object(L.jsx)(ce.a,{})}),Object(L.jsx)(re.a,{primary:"MyModules"})]}),Object(L.jsxs)(ae.a,{button:!0,children:[Object(L.jsx)(te.a,{children:Object(L.jsx)(de.a,{})}),Object(L.jsx)(re.a,{primary:"Listings"})]}),Object(L.jsxs)(ae.a,{button:!0,children:[Object(L.jsx)(te.a,{children:Object(L.jsx)(be.a,{})}),Object(L.jsx)(re.a,{primary:"Modules"})]}),Object(L.jsxs)(ae.a,{button:!0,children:[Object(L.jsx)(te.a,{children:Object(L.jsx)(oe.a,{})}),Object(L.jsx)(re.a,{primary:"Settings"})]})]});Object(P.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));var Oe=Object(P.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function xe(){var e=Oe();return Object(L.jsxs)("div",{className:e.root,children:[Object(L.jsx)(g.a,{}),Object(L.jsx)(Z.a,{position:"fixed",className:e.appBar,children:Object(L.jsx)($.a,{children:Object(L.jsx)(T.a,{variant:"h6",noWrap:!0,children:"Clipped drawer"})})}),Object(L.jsxs)(X.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(L.jsx)($.a,{}),Object(L.jsxs)("div",{className:e.drawerContainer,children:[Object(L.jsx)(_.a,{children:pe}),Object(L.jsx)(ee.a,{})]})]}),Object(L.jsxs)("main",{className:e.content,children:[Object(L.jsx)($.a,{}),Object(L.jsx)(T.a,{paragraph:!0,children:"Applications"})]})]})}var he=function(e){var a=e.listing;return Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{children:a.module}),Object(L.jsx)("p",{children:a.numberOfOpenings})]})},me=Object(P.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}})),ve=function(){var e=me(),a=Object(s.useState)([]),t=Object(c.a)(a,2),r=t[0],n=t[1];return Object(s.useEffect)((function(){O().then((function(e){n(e)}))}),[]),console.log(r),console.log(r[0]),Object(L.jsxs)("div",{className:e.root,children:[Object(L.jsx)(g.a,{}),Object(L.jsx)(Z.a,{position:"fixed",className:e.appBar,children:Object(L.jsx)($.a,{children:Object(L.jsx)(T.a,{variant:"h6",noWrap:!0,children:"Clipped drawer"})})}),Object(L.jsxs)(X.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(L.jsx)($.a,{}),Object(L.jsxs)("div",{className:e.drawerContainer,children:[Object(L.jsx)(_.a,{children:pe}),Object(L.jsx)(ee.a,{})]})]}),Object(L.jsx)("main",{className:e.content,children:Object(L.jsx)(he,{listing:r[0]})})]})},ge=Object(P.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function fe(){var e=ge();return Object(L.jsxs)("div",{className:e.root,children:[Object(L.jsx)(g.a,{}),Object(L.jsx)(Z.a,{position:"fixed",className:e.appBar,children:Object(L.jsx)($.a,{children:Object(L.jsx)(T.a,{variant:"h6",noWrap:!0,children:"Clipped drawer"})})}),Object(L.jsxs)(X.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(L.jsx)($.a,{}),Object(L.jsxs)("div",{className:e.drawerContainer,children:[Object(L.jsx)(_.a,{children:pe}),Object(L.jsx)(ee.a,{})]})]}),Object(L.jsxs)("main",{className:e.content,children:[Object(L.jsx)($.a,{}),Object(L.jsx)(T.a,{paragraph:!0,children:"Modules"})]})]})}var we=Object(P.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function ye(){var e=we();return Object(L.jsxs)("div",{className:e.root,children:[Object(L.jsx)(g.a,{}),Object(L.jsx)(Z.a,{position:"fixed",className:e.appBar,children:Object(L.jsx)($.a,{children:Object(L.jsx)(T.a,{variant:"h6",noWrap:!0,children:"Clipped drawer"})})}),Object(L.jsxs)(X.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(L.jsx)($.a,{}),Object(L.jsxs)("div",{className:e.drawerContainer,children:[Object(L.jsx)(_.a,{children:pe}),Object(L.jsx)(ee.a,{})]})]}),Object(L.jsxs)("main",{className:e.content,children:[Object(L.jsx)($.a,{}),Object(L.jsx)(T.a,{paragraph:!0,children:"My Modules"})]})]})}var Se=function(){var e=Object(s.useState)(null),a=Object(c.a)(e,2),t=a[0],r=a[1],n=function(){window.localStorage.removeItem("loggedUser"),window.history.pushState("SignUp","SignUp","/")};return console.log(t),Object(L.jsx)("div",{className:"App",children:null===t?Object(L.jsx)("div",{className:"loggedOut",children:Object(L.jsx)(i.a,{children:Object(L.jsxs)(l.c,{children:[Object(L.jsx)(l.a,{path:"/signup",children:Object(L.jsx)(Q,{})}),Object(L.jsx)(l.a,{path:"/",children:Object(L.jsx)(E,{setUser:r})})]})})}):Object(L.jsx)("div",{className:"loggedIn",children:"Module Coordinator"===t.accountType?Object(L.jsxs)("div",{className:"ModuleCoordinator",children:[Object(L.jsx)(i.a,{children:Object(L.jsxs)(l.c,{children:[Object(L.jsx)(l.a,{path:"/applications",children:Object(L.jsx)(xe,{})}),Object(L.jsx)(l.a,{path:"/listings",children:Object(L.jsx)(ve,{})}),Object(L.jsx)(l.a,{path:"/modules",children:Object(L.jsx)(fe,{})}),Object(L.jsx)(l.a,{path:"/mymodules",children:Object(L.jsx)(ye,{})})]})}),Object(L.jsxs)("p",{children:[t.name," logged in"]}),Object(L.jsxs)("p",{children:["Access: ",t.accountType]}),Object(L.jsx)("button",{id:"logout",onClick:n,children:"logout"})]}):Object(L.jsxs)("div",{className:"Student",children:[Object(L.jsxs)("p",{children:[t.name," logged in"]}),Object(L.jsxs)("p",{children:["Access: ",t.accountType]}),Object(L.jsx)("button",{id:"logout",onClick:n,children:"logout"})]})})})};n.a.render(Object(L.jsx)(Se,{}),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.44f65da8.chunk.js.map