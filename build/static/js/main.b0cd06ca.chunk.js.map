{"version":3,"sources":["components/Togglable.js","services/listings.js","services/login.js","components/ErrorAlert.js","pages/PageLogin.js","services/users.js","components/SuccessAlert.js","pages/PageSignUp.js","App.js","index.js"],"names":["Togglable","React","forwardRef","props","ref","useState","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","onClick","buttonLabel","className","children","displayName","newToken","login","credentials","a","axios","post","response","data","Alert","elevation","variant","useStyles","makeStyles","theme","root","width","marginTop","spacing","ErrorAlert","alert","setAlert","errorMessage","classes","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","severity","Copyright","Typography","color","align","Link","href","Date","getFullYear","paper","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","submit","PageLogin","setUser","username","setUsername","password","setPassword","useEffect","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","listingService","token","handleLogin","preventDefault","loginService","setItem","stringify","Container","component","maxWidth","CssBaseline","Avatar","noValidate","onSubmit","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","value","onChange","target","type","FormControlLabel","control","Checkbox","Button","Grid","container","item","Box","mt","create","newUser","request","then","SuccessAlert","successMessage","SignUp","firstName","setFirstName","lastName","setLastName","email","setEmail","accountType","setAccountType","error","setError","firstNameError","setFirstNameError","lastNameError","setLastNameError","usernameError","setUsernameError","passwordError","setPasswordError","emailError","setEmailError","accountTypeError","setAccountTypeError","success","setSuccess","successAlert","setSuccessAlert","handleSignUp","console","log","trim","userService","xs","sm","helperText","disabled","select","MenuItem","App","logout","removeItem","path","PageSignUp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b0cd06ca.chunk.js","sourcesContent":["import React, { useState, useImperativeHandle } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible} className=\"togglableContent\">\r\n        {props.children}\r\n        <button onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nTogglable.displayName = 'Togglable'\r\n\r\nTogglable.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Togglable","import axios from 'axios'\r\nconst baseUrl = '/api/listings'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n  \r\n}\r\n\r\nconst create = newObject => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n  const request = axios.post(baseUrl, newObject, config)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, setToken }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst ErrorAlert = ({alert, setAlert, errorMessage}) => {\r\n  const classes = useStyles();\r\n\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setAlert(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={alert} autoHideDuration={5000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"error\">\r\n          {errorMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ErrorAlert","import React, { useState, useEffect } from 'react'\r\nimport listingService from '../services/listings'\r\nimport loginService from '../services/login'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport ErrorAlert from '../components/ErrorAlert'\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst PageLogin = ({ setUser }) => {\r\n  const classes = useStyles();\r\n\r\n  const [username, setUsername] = useState('') \r\n  const [password, setPassword] = useState('') \r\n\r\n  const [alert, setAlert] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n      listingService.setToken(user.token)\r\n    }\r\n  }, [])  \r\n\r\n  const handleUsernameChange = (event) => {\r\n    setUsername(event.target.value)\r\n  }\r\n\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value)\r\n  }\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await loginService.login({\r\n        username, password,\r\n      })\r\n      listingService.setToken(user.token)\r\n      window.localStorage.setItem(\r\n        'loggedUser', JSON.stringify(user)\r\n      ) \r\n      setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (exception) {\r\n      setAlert(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <ErrorAlert alert={alert} setAlert={setAlert} errorMessage={\"Invalid Username or Password\"} />\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate onSubmit={ handleLogin }>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"username\"\r\n            label=\"Username\"\r\n            name=\"username\"\r\n            autoComplete=\"username\"\r\n            autoFocus\r\n            value={username}\r\n            onChange={handleUsernameChange}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={password}\r\n            onChange={handlePasswordChange}\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <Link href=\"/SignUp\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default PageLogin","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst create = async newUser => {\r\n    const request = axios.post(baseUrl, newUser)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { create }","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst SuccessAlert = ({alert, setAlert, successMessage}) => {\r\n  const classes = useStyles();\r\n\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setAlert(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={alert} autoHideDuration={5000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n          {successMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SuccessAlert","import React, { useState } from 'react'\r\nimport userService from '../services/users'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ErrorAlert from '../components/ErrorAlert'\r\nimport SuccessAlert from '../components/SuccessAlert'\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst SignUp = () => {\r\n  const classes = useStyles();\r\n\r\n  const [username, setUsername] = useState('') \r\n  const [password, setPassword] = useState('')\r\n  const [firstName, setFirstName] = useState('') \r\n  const [lastName, setLastName] = useState('')\r\n  const [email, setEmail] = useState('') \r\n  const [accountType, setAccountType] = useState('')\r\n\r\n  const [error, setError] = useState(null);\r\n  const [firstNameError, setFirstNameError] = useState(null);\r\n  const [lastNameError, setLastNameError] = useState(null);\r\n  const [usernameError, setUsernameError] = useState(null);\r\n  const [passwordError, setPasswordError] = useState(null);\r\n  const [emailError, setEmailError] = useState(null);\r\n  const [accountTypeError, setAccountTypeError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n  const [successAlert, setSuccessAlert] = useState(false);\r\n  const [alert, setAlert] = useState(false);\r\n\r\n  const handleUsernameChange = (event) => {\r\n    setUsername(event.target.value)\r\n  }\r\n\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value)\r\n  }\r\n\r\n  const handleFirstNameChange = (event) => {\r\n    setFirstName(event.target.value)\r\n  }\r\n\r\n  const handleLastNameChange = (event) => {\r\n    setLastName(event.target.value)\r\n  }\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value)\r\n  }\r\n\r\n  const handleAccountTypeChange = (event) => {\r\n    setAccountType(event.target.value)\r\n  }\r\n\r\n  const handleSignUp = async (event) => {\r\n    event.preventDefault()\r\n\r\n    console.log(success)\r\n\r\n    if (firstName.trim() === \"\") {\r\n      setFirstNameError(\"Invalid First Name\")\r\n      setAlert(true)\r\n    } else {\r\n      setFirstNameError(\"\")\r\n    }\r\n    \r\n    if (lastName.trim() === \"\") {\r\n      setLastNameError(\"Invalid Last Name\")\r\n      setAlert(true)\r\n    } else {\r\n      setLastNameError(\"\")\r\n    }\r\n    \r\n    if (username.trim() === \"\") {\r\n      setUsernameError(\"Invalid Username\")\r\n      setAlert(true)\r\n    } else {\r\n      setUsernameError(\"\")\r\n    }\r\n    \r\n    if (password.trim() === \"\") {\r\n      setPasswordError(\"Invalid Password\")\r\n      setAlert(true)\r\n    } else {\r\n      setPasswordError(\"\")\r\n    }\r\n    \r\n    if (email.trim() === \"\") {\r\n      setEmailError(\"Invalid Email\")\r\n      setAlert(true)\r\n    } else {\r\n      setEmailError(\"\")\r\n    }\r\n    \r\n    if (accountType === \"\") {\r\n      setAccountTypeError(\"Invalid Account Type\")\r\n      setAlert(true)\r\n    } else {\r\n      setAccountTypeError(\"\")\r\n    }\r\n    \r\n    if (firstName.trim() !== \"\" && lastName.trim() !== \"\" && username.trim() !== \"\" && password.trim() !== \"\" && email.trim() !== \"\" && accountType !== \"\") {\r\n      try {\r\n        const newUser = {\r\n          name: firstName + \" \" + lastName,\r\n          username: username,\r\n          password: password,\r\n          email: email,\r\n          accountType: accountType\r\n        }\r\n        const user = await userService.create(newUser)\r\n        setSuccess(true)\r\n        setSuccessAlert(true)\r\n      } catch (exception) {\r\n        setError(\"Username already taken\")\r\n        setAlert(true)\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <ErrorAlert alert={alert} setAlert={setAlert} errorMessage={error ? error : \"Invalid Field(s)\"} />\r\n      <SuccessAlert alert={successAlert} setAlert={setSuccessAlert} successMessage={\"User Successfully Created\"} />\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate onSubmit={ handleSignUp }>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus\r\n                error={firstNameError === \"Invalid First Name\"}\r\n                helperText={firstNameError}\r\n                value={firstName}\r\n                onChange={handleFirstNameChange}\r\n                disabled={success}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lastName\"\r\n                error={lastNameError === \"Invalid Last Name\"}\r\n                helperText={lastNameError}\r\n                value={lastName}\r\n                onChange={handleLastNameChange}\r\n                disabled={success}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                error={usernameError === \"Invalid Username\"}\r\n                helperText={usernameError}\r\n                value={username}\r\n                onChange={handleUsernameChange}\r\n                disabled={success}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                error={passwordError === \"Invalid Password\"}\r\n                helperText={passwordError}\r\n                value={password}\r\n                onChange={handlePasswordChange}\r\n                disabled={success}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                id=\"email\"\r\n                autoComplete=\"email\"\r\n                error={emailError === \"Invalid Email\"}\r\n                helperText={emailError}\r\n                value={email}\r\n                onChange={handleEmailChange}\r\n                disabled={success}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"accountType\"\r\n                label=\"Account Type\"\r\n                select\r\n                value={accountType}\r\n                id=\"accountType\"\r\n                error={accountTypeError === \"Invalid Account Type\"}\r\n                helperText={accountTypeError}\r\n                onChange={handleAccountTypeChange}\r\n                disabled={success}\r\n              >\r\n                <MenuItem value={\"Student\"}>Student</MenuItem>\r\n                <MenuItem value={\"Module Coordinator\"}>Module Coordinator</MenuItem>\r\n              </TextField>\r\n            </Grid>\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            href= {success ? \"/\" : \"\"}\r\n          >\r\n            {success ? \"Account created | Back to Sign In\" : \"Sign up\"}\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <Link href=\"/\" variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default SignUp","import React, { useState, useEffect } from 'react'\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport axios from 'axios'\r\nimport Module from './components/Module'\r\nimport Listing from './components/Listing'\r\nimport Notification from './components/Notification'\r\nimport LoginForm from './components/LoginForm'\r\nimport ListingForm from './components/ListingForm'\r\nimport Togglable from './components/Togglable'\r\nimport listingService from './services/listings'\r\nimport loginService from './services/login'\r\nimport PageLogin from './pages/PageLogin'\r\nimport PageSignUp from './pages/PageSignUp'\r\n\r\nconst App = () => {\r\n  const [user, setUser] = useState(null)\r\n\r\n  const logout = () => {\r\n    window.localStorage.removeItem('loggedUser')\r\n  }\r\n\r\n\r\n  console.log(user)\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      { user === null ?\r\n        <div className=\"loggedOut\">\r\n          <Router>\r\n            <Switch>\r\n              <Route path=\"/SignUp\">\r\n                <PageSignUp />\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <PageLogin setUser={setUser} /> \r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n        </div> :\r\n        <div className=\"loggedIn\">\r\n          {user.accountType === \"Module Coordinator\" ? \r\n            <div className=\"ModuleCoordinator\">\r\n              <p>{user.name} logged in</p>\r\n              <p>Access: {user.accountType}</p>\r\n              <button id=\"logout\" onClick={logout}>logout</button>\r\n            </div> :\r\n            <div className=\"Student\">\r\n              <p>{user.name} logged in</p>\r\n              <p>Access: {user.accountType}</p>\r\n              <button id=\"logout\" onClick={logout}>logout</button>\r\n            </div>\r\n          }\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}