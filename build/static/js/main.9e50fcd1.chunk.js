(this.webpackJsonporbital=this.webpackJsonporbital||[]).push([[0],{150:function(e,t,a){"use strict";a.r(t);var n=a(10),r=a.n(n),c=a(12),i=a(0),s=a(80),l=a(15),o=a(25),d=a.n(o),j=a(38),u=a(32),b=a.n(u),p="api/listings",O=function(){return console.log("HELLO"),b.a.get(p).then((function(e){return e.data}))},x=function(e){"bearer ".concat(e)},h={login:function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=a(212),f=a(197),g=a(194),v=a(205),w=a(196),y=a(209),S=a(192),C=a(198),N=a(206),I=a(74),k=a.n(I),P=a(56),M=a(190),T=a(193),L=a(76),W=a(211),A=a(207),U=a(2);function B(e){return Object(U.jsx)(A.a,Object(L.a)({elevation:6,variant:"filled"},e))}var z=Object(M.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),D=function(e){var t=e.alert,a=e.setAlert,n=e.errorMessage,r=z(),c=function(e,t){"clickaway"!==t&&a(!1)};return Object(U.jsx)("div",{className:r.root,children:Object(U.jsx)(W.a,{open:t,autoHideDuration:5e3,onClose:c,children:Object(U.jsx)(B,{onClose:c,severity:"error",children:n})})})};function q(){return Object(U.jsxs)(P.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(U.jsx)(S.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var E=Object(M.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),F=function(e){var t=e.setUser,a=E(),n=Object(i.useState)(""),r=Object(c.a)(n,2),s=r[0],l=r[1],o=Object(i.useState)(""),u=Object(c.a)(o,2),b=u[0],p=u[1],O=Object(i.useState)(!1),I=Object(c.a)(O,2),M=I[0],L=I[1];Object(i.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");if(e){var a=JSON.parse(e);t(a),x(a.token)}}),[]);var W=function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,h.login({username:s,password:b});case 4:n=e.sent,x(n.token),window.localStorage.setItem("loggedUser",JSON.stringify(n)),t(n),l(""),p(""),"Module Coordinator"===n.accountType?window.history.pushState("ModuleCoordinatorLandingPage","ModuleCoordinatorLandingPage","/mymodules"):window.history.pushState("StudentLandingPage","StudentLandingPage","/listings"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),L(!0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)(T.a,{component:"main",maxWidth:"xs",children:[Object(U.jsx)(D,{alert:M,setAlert:L,errorMessage:"Invalid Username or Password"}),Object(U.jsx)(g.a,{}),Object(U.jsxs)("div",{className:a.paper,children:[Object(U.jsx)(m.a,{className:a.avatar,children:Object(U.jsx)(k.a,{})}),Object(U.jsx)(P.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(U.jsxs)("form",{className:a.form,noValidate:!0,onSubmit:W,children:[Object(U.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:s,onChange:function(e){l(e.target.value)}}),Object(U.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:b,onChange:function(e){p(e.target.value)}}),Object(U.jsx)(w.a,{control:Object(U.jsx)(y.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(U.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"Sign In"}),Object(U.jsx)(C.a,{container:!0,children:Object(U.jsx)(C.a,{item:!0,children:Object(U.jsx)(S.a,{href:"/SignUp",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(U.jsx)(N.a,{mt:8,children:Object(U.jsx)(q,{})})]})},G={create:function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.a.post("/api/users",t),e.abrupt("return",a.then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=a(199);function Y(e){return Object(U.jsx)(A.a,Object(L.a)({elevation:6,variant:"filled"},e))}var H=Object(M.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),V=function(e){var t=e.alert,a=e.setAlert,n=e.successMessage,r=H(),c=function(e,t){"clickaway"!==t&&a(!1)};return Object(U.jsx)("div",{className:r.root,children:Object(U.jsx)(W.a,{open:t,autoHideDuration:5e3,onClose:c,children:Object(U.jsx)(Y,{onClose:c,severity:"success",children:n})})})};function R(){return Object(U.jsxs)(P.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(U.jsx)(S.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var K=Object(M.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Q=function(){var e=K(),t=Object(i.useState)(""),a=Object(c.a)(t,2),n=a[0],r=a[1],s=Object(i.useState)(""),l=Object(c.a)(s,2),o=l[0],u=l[1],b=Object(i.useState)(""),p=Object(c.a)(b,2),O=p[0],x=p[1],h=Object(i.useState)(""),w=Object(c.a)(h,2),y=w[0],I=w[1],M=Object(i.useState)(""),L=Object(c.a)(M,2),W=L[0],A=L[1],B=Object(i.useState)(""),z=Object(c.a)(B,2),q=z[0],E=z[1],F=Object(i.useState)(null),Y=Object(c.a)(F,2),H=Y[0],Q=Y[1],X=Object(i.useState)(null),Z=Object(c.a)(X,2),$=Z[0],_=Z[1],ee=Object(i.useState)(null),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],re=Object(i.useState)(null),ce=Object(c.a)(re,2),ie=ce[0],se=ce[1],le=Object(i.useState)(null),oe=Object(c.a)(le,2),de=oe[0],je=oe[1],ue=Object(i.useState)(null),be=Object(c.a)(ue,2),pe=be[0],Oe=be[1],xe=Object(i.useState)(null),he=Object(c.a)(xe,2),me=he[0],fe=he[1],ge=Object(i.useState)(!1),ve=Object(c.a)(ge,2),we=ve[0],ye=ve[1],Se=Object(i.useState)(!1),Ce=Object(c.a)(Se,2),Ne=Ce[0],Ie=Ce[1],ke=Object(i.useState)(!1),Pe=Object(c.a)(ke,2),Me=Pe[0],Te=Pe[1],Le=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(we),""===O.trim()?(_("Invalid First Name"),Te(!0)):_(""),""===y.trim()?(ne("Invalid Last Name"),Te(!0)):ne(""),""===n.trim()?(se("Invalid Username"),Te(!0)):se(""),""===o.trim()?(je("Invalid Password"),Te(!0)):je(""),""===W.trim()?(Oe("Invalid Email"),Te(!0)):Oe(""),""===q?(fe("Invalid Account Type"),Te(!0)):fe(""),""===O.trim()||""===y.trim()||""===n.trim()||""===o.trim()||""===W.trim()||""===q){e.next=22;break}return e.prev=9,a={name:O+" "+y,username:n,password:o,email:W,accountType:q},e.next=13,G.create(a);case 13:e.sent,ye(!0),Ie(!0),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(9),Q("Username already taken"),Te(!0);case 22:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)(T.a,{component:"main",maxWidth:"xs",children:[Object(U.jsx)(D,{alert:Me,setAlert:Te,errorMessage:H||"Invalid Field(s)"}),Object(U.jsx)(V,{alert:Ne,setAlert:Ie,successMessage:"User Successfully Created"}),Object(U.jsx)(g.a,{}),Object(U.jsxs)("div",{className:e.paper,children:[Object(U.jsx)(m.a,{className:e.avatar,children:Object(U.jsx)(k.a,{})}),Object(U.jsx)(P.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(U.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:Le,children:[Object(U.jsxs)(C.a,{container:!0,spacing:2,children:[Object(U.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(U.jsx)(v.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,error:"Invalid First Name"===$,helperText:$,value:O,onChange:function(e){x(e.target.value)},disabled:we})}),Object(U.jsx)(C.a,{item:!0,xs:12,sm:6,children:Object(U.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lastName",error:"Invalid Last Name"===ae,helperText:ae,value:y,onChange:function(e){I(e.target.value)},disabled:we})}),Object(U.jsx)(C.a,{item:!0,xs:12,children:Object(U.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",error:"Invalid Username"===ie,helperText:ie,value:n,onChange:function(e){r(e.target.value)},disabled:we})}),Object(U.jsx)(C.a,{item:!0,xs:12,children:Object(U.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:"Invalid Password"===de,helperText:de,value:o,onChange:function(e){u(e.target.value)},disabled:we})}),Object(U.jsx)(C.a,{item:!0,xs:12,children:Object(U.jsx)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"email",label:"Email",id:"email",autoComplete:"email",error:"Invalid Email"===pe,helperText:pe,value:W,onChange:function(e){A(e.target.value)},disabled:we})}),Object(U.jsx)(C.a,{item:!0,xs:12,children:Object(U.jsxs)(v.a,{variant:"outlined",required:!0,fullWidth:!0,name:"accountType",label:"Account Type",select:!0,value:q,id:"accountType",error:"Invalid Account Type"===me,helperText:me,onChange:function(e){E(e.target.value)},disabled:we,children:[Object(U.jsx)(J.a,{value:"Student",children:"Student"}),Object(U.jsx)(J.a,{value:"Module Coordinator",children:"Module Coordinator"})]})})]}),Object(U.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,href:we?"/":"",children:we?"Account created | Back to Sign In":"Sign up"}),Object(U.jsx)(C.a,{container:!0,children:Object(U.jsx)(C.a,{item:!0,children:Object(U.jsx)(S.a,{href:"/",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(U.jsx)(N.a,{mt:5,children:Object(U.jsx)(R,{})})]})},X=a(210),Z=a(202),$=a(203),_=a(195),ee=a(204),te=a(153),ae=a(200),ne=a(201),re=a(96),ce=a.n(re),ie=a(95),se=a.n(ie),le=a(99),oe=a.n(le),de=a(97),je=a.n(de),ue=a(98),be=a.n(ue),pe=Object(U.jsxs)("div",{children:[Object(U.jsxs)(te.a,{button:!0,onClick:function(){window.history.pushState("ApplicationsLandingPage","ApplicationsLandingPage","/applications"),window.location.reload(!1)},children:[Object(U.jsx)(ae.a,{children:Object(U.jsx)(se.a,{})}),Object(U.jsx)(ne.a,{primary:"Applications"})]}),Object(U.jsxs)(te.a,{button:!0,onClick:function(){window.history.pushState("MyModulesLandingPage","MyModulesLandingPage","/mymodules"),window.location.reload(!1)},children:[Object(U.jsx)(ae.a,{children:Object(U.jsx)(ce.a,{})}),Object(U.jsx)(ne.a,{primary:"MyModules"})]}),Object(U.jsxs)(te.a,{button:!0,onClick:function(){window.history.pushState("ListingsLandingPage","ListingsLandingPage","/listings"),window.location.reload(!1)},children:[Object(U.jsx)(ae.a,{children:Object(U.jsx)(je.a,{})}),Object(U.jsx)(ne.a,{primary:"Listings"})]}),Object(U.jsxs)(te.a,{button:!0,onClick:function(){window.history.pushState("ModulesLandingPage","ModulesLandingPage","/modules"),window.location.reload(!1)},children:[Object(U.jsx)(ae.a,{children:Object(U.jsx)(be.a,{})}),Object(U.jsx)(ne.a,{primary:"Modules"})]}),Object(U.jsxs)(te.a,{button:!0,children:[Object(U.jsx)(ae.a,{children:Object(U.jsx)(oe.a,{})}),Object(U.jsx)(ne.a,{primary:"Settings"})]})]});Object(M.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));var Oe=Object(M.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function xe(){var e=Oe();return Object(U.jsxs)("div",{className:e.root,children:[Object(U.jsx)(g.a,{}),Object(U.jsx)(Z.a,{position:"fixed",className:e.appBar,children:Object(U.jsx)($.a,{children:Object(U.jsx)(P.a,{variant:"h6",noWrap:!0,children:"Clipped drawer"})})}),Object(U.jsxs)(X.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(U.jsx)($.a,{}),Object(U.jsxs)("div",{className:e.drawerContainer,children:[Object(U.jsx)(_.a,{children:pe}),Object(U.jsx)(ee.a,{})]})]}),Object(U.jsxs)("main",{className:e.content,children:[Object(U.jsx)($.a,{}),Object(U.jsx)(P.a,{paragraph:!0,children:"Applications"})]})]})}var he=function(e){var t=e.listing;return void 0!==t?Object(U.jsxs)("div",{children:[Object(U.jsx)("p",{children:t.module}),Object(U.jsx)("p",{children:t.numberOfOpenings}),Object(U.jsx)("p",{children:t.applicationDeadline}),Object(U.jsx)("p",{children:t.requirements}),Object(U.jsx)("p",{children:t.jobScope}),Object(U.jsx)("p",{children:t.otherInfo}),Object(U.jsx)("p",{children:t.moduleCoordinators}),Object(U.jsx)("p",{children:t.contactEmail})]}):null},me=Object(M.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}})),fe=function(){var e=me(),t=Object(i.useState)([]),a=Object(c.a)(t,2),n=a[0],r=a[1];return Object(i.useEffect)((function(){O().then((function(e){r(e)}))}),[]),console.log(n),console.log(n[1]),Object(U.jsxs)("div",{className:e.root,children:[Object(U.jsx)(g.a,{}),Object(U.jsx)(Z.a,{position:"fixed",className:e.appBar,children:Object(U.jsx)($.a,{children:Object(U.jsx)(P.a,{variant:"h6",noWrap:!0,children:"Clipped drawer"})})}),Object(U.jsxs)(X.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(U.jsx)($.a,{}),Object(U.jsxs)("div",{className:e.drawerContainer,children:[Object(U.jsx)(_.a,{children:pe}),Object(U.jsx)(ee.a,{})]})]}),Object(U.jsxs)("main",{className:e.content,children:[Object(U.jsx)($.a,{}),n.map((function(e,t){return Object(U.jsx)(he,{listing:e},t)}))]})]})},ge=function(e){var t=e.module;return Object(U.jsxs)("div",{children:[Object(U.jsx)("p",{children:t.moduleCode}),Object(U.jsx)("p",{children:t.title}),Object(U.jsx)("p",{children:t.description})]})},ve=Object(M.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function we(){var e=ve(),t=Object(i.useState)([]),a=Object(c.a)(t,2),n=a[0],r=a[1],s=Object(i.useState)(""),l=Object(c.a)(s,2),o=l[0],d=l[1];Object(i.useEffect)((function(){b.a.get("https://api.nusmods.com/v2/2020-2021/moduleInfo.json").then((function(e){r(e.data)}))}),[]);var j=n.filter((function(e){return e.moduleCode.includes(o)}));return Object(U.jsxs)("div",{className:e.root,children:[Object(U.jsx)(g.a,{}),Object(U.jsx)(Z.a,{position:"fixed",className:e.appBar,children:Object(U.jsx)($.a,{children:Object(U.jsx)(P.a,{variant:"h6",noWrap:!0,children:"Clipped drawer"})})}),Object(U.jsxs)(X.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(U.jsx)($.a,{}),Object(U.jsxs)("div",{className:e.drawerContainer,children:[Object(U.jsx)(_.a,{children:pe}),Object(U.jsx)(ee.a,{})]})]}),Object(U.jsxs)("main",{className:e.content,children:[Object(U.jsx)($.a,{}),Object(U.jsx)(P.a,{paragraph:!0,children:Object(U.jsxs)("div",{children:[Object(U.jsx)("h1",{children:"Modules"}),Object(U.jsx)("form",{children:Object(U.jsxs)("label",{children:["find modules:",Object(U.jsx)("input",{value:o,onChange:function(e){d(e.target.value)}})]})}),Object(U.jsx)("div",{children:j.map((function(e){return Object(U.jsx)(ge,{module:e},e.moduleCode)}))})]})})]})]})}var ye=Object(M.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function Se(){var e=ye();return Object(U.jsxs)("div",{className:e.root,children:[Object(U.jsx)(g.a,{}),Object(U.jsx)(Z.a,{position:"fixed",className:e.appBar,children:Object(U.jsx)($.a,{children:Object(U.jsx)(P.a,{variant:"h6",noWrap:!0,children:"Clipped drawer"})})}),Object(U.jsxs)(X.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(U.jsx)($.a,{}),Object(U.jsxs)("div",{className:e.drawerContainer,children:[Object(U.jsx)(_.a,{children:pe}),Object(U.jsx)(ee.a,{})]})]}),Object(U.jsxs)("main",{className:e.content,children:[Object(U.jsx)($.a,{}),Object(U.jsx)(P.a,{paragraph:!0,children:"My Modules"})]})]})}var Ce=function(){var e=Object(i.useState)(null),t=Object(c.a)(e,2),a=t[0],n=t[1];return console.log(a),Object(U.jsx)("div",{className:"App",children:null===a?Object(U.jsx)("div",{className:"loggedOut",children:Object(U.jsx)(s.a,{children:Object(U.jsxs)(l.c,{children:[Object(U.jsx)(l.a,{path:"/signup",children:Object(U.jsx)(Q,{})}),Object(U.jsx)(l.a,{path:"/",children:Object(U.jsx)(F,{setUser:n})})]})})}):Object(U.jsx)("div",{className:"loggedIn",children:"Module Coordinator"===a.accountType?Object(U.jsx)("div",{className:"ModuleCoordinator",children:Object(U.jsx)(s.a,{children:Object(U.jsxs)(l.c,{children:[Object(U.jsx)(l.a,{path:"/applications",children:Object(U.jsx)(xe,{})}),Object(U.jsx)(l.a,{path:"/listings",children:Object(U.jsx)(fe,{})}),Object(U.jsx)(l.a,{path:"/modules",children:Object(U.jsx)(we,{})}),Object(U.jsx)(l.a,{path:"/mymodules",children:Object(U.jsx)(Se,{})}),Object(U.jsx)(l.a,{path:"/",children:Object(U.jsx)(Se,{})})]})})}):Object(U.jsxs)("div",{className:"Student",children:[Object(U.jsxs)("p",{children:[a.name," logged in"]}),Object(U.jsxs)("p",{children:["Access: ",a.accountType]}),Object(U.jsx)("button",{id:"logout",onClick:function(){window.localStorage.removeItem("loggedUser"),window.history.pushState("SignUp","SignUp","/")},children:"logout"})]})})})};r.a.render(Object(U.jsx)(Ce,{}),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.9e50fcd1.chunk.js.map